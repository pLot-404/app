(()=>{"use strict";const t=function(){function t(t,i){var h;void 0===t&&(t=320),void 0===i&&(i=600),this.canvas=document.createElement("canvas");var n=document.getElementById("root");n&&n.appendChild(this.canvas),h=[t,i],this.canvas.width=h[0],this.canvas.height=h[1],this.objs=[],this.keyMap={}}return t.prototype.resize=function(t,i){var h;void 0===t&&(t=320),void 0===i&&(i=600),h=[t,i],this.canvas.width=h[0],this.canvas.height=h[1]},t.prototype.start=function(){this.mainloop()},t.prototype.mainloop=function(){var t=this.canvas.getContext("2d");t.fillStyle="#000",t.fillRect(0,0,this.canvas.width,this.canvas.height);for(var i=0;i<this.objs.length;i++)this.objs[i].update(this.canvas);requestAnimationFrame(this.mainloop.bind(this))},t.prototype.add=function(t){this.objs=this.objs.concat([t])},t.prototype.setKeyBind=function(t,i){this.keyMap[t]={keyCode:i,push:!1}},t}(),i=function(){function t(t,i,h,n,e,s){void 0===i&&(i=0),void 0===h&&(h=0),void 0===n&&(n=40),void 0===e&&(e=40),void 0===s&&(s=0),this.x=i,this.y=h,this.width=n,this.height=e,this.index=s,this.img=new Image,this.img.src=t}return t.prototype.update=function(t){this.render(t)},t.prototype.render=function(t){if(!(this.x<-1*this.width||this.x>t.width||this.y<-1*this.height||this.y>t.height)){var i=t.getContext("2d"),h=this.index%(this.img.width/this.width),n=Math.floor(this.index/(this.img.width/this.width));i.drawImage(this.img,this.width*h,this.height*n,this.width,this.height,this.x,this.y,this.width,this.height)}},t}();var h={up:[87,104,38],down:[83,98,40],right:[68,102,39],left:[65,100,37],confirm:[13,90],discard:[27,88]};window.addEventListener("load",(function(){var n=new t(.95*window.innerWidth,.95*window.innerHeight);for(var e in h)h&&Object.prototype.hasOwnProperty.call(h,e)&&n.setKeyBind(e,h[e]);window.addEventListener("resize",(function(){n.resize(.95*window.innerWidth,.95*window.innerHeight)}));var s=new i("./img/school_A5.png");n.add(s),n.start()}))})();
//# sourceMappingURL=bundle.js.map