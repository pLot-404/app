(()=>{"use strict";var t=function(){function t(t,i){var e;void 0===t&&(t=320),void 0===i&&(i=600),this.canvas=document.createElement("canvas");var n=document.getElementById("root");n&&n.appendChild(this.canvas),e=[t,i],this.canvas.width=e[0],this.canvas.height=e[1],this.objs=[],this.keyMap={}}return t.prototype.resize=function(t,i){var e;void 0===t&&(t=320),void 0===i&&(i=600),e=[t,i],this.canvas.width=e[0],this.canvas.height=e[1]},t.prototype.start=function(){var t,i,e,n=this;this.mainloop(),t=window,i=function(t){for(var i in t.preventDefault(),n.keyMap)if(n.keyMap&&Object.prototype.hasOwnProperty.call(n.keyMap,i))switch(t.type){case"keydown":-1!==n.keyMap[i].code.indexOf(t.code)&&(n.keyMap[i].push=!0);break;case"keyup":-1!==n.keyMap[i].code.indexOf(t.code)&&(n.keyMap[i].push=!1);break;default:return}},e=t,"keydown keyup".split(" ").forEach((function(t){return e.addEventListener(t,i,!1)}))},t.prototype.mainloop=function(){var t=this.canvas.getContext("2d");t.fillStyle="#000",t.fillRect(0,0,this.canvas.width,this.canvas.height);for(var i=0;i<this.objs.length;i++)this.objs[i].update(this.canvas);requestAnimationFrame(this.mainloop.bind(this))},t.prototype.add=function(t){this.objs=this.objs.concat([t])},t.prototype.setKeyBind=function(t,i){this.keyMap[t]={code:i,push:!1}},t}();const i=t,e=function(){function t(t,i,e,n,h,o){void 0===i&&(i=0),void 0===e&&(e=0),void 0===n&&(n=40),void 0===h&&(h=40),void 0===o&&(o=0),this.x=i,this.y=e,this.width=n,this.height=h,this.index=o,this.img=new Image,this.img.src=t}return t.prototype.update=function(t){this.render(t),this.eventHandler()},t.prototype.render=function(t){if(!(this.x<-1*this.width||this.x>t.width||this.y<-1*this.height||this.y>t.height)){var i=t.getContext("2d"),e=this.index%(this.img.width/this.width),n=Math.floor(this.index/(this.img.width/this.width));i.drawImage(this.img,this.width*e,this.height*n,this.width,this.height,this.x,this.y,this.width,this.height)}},t.prototype.eventHandler=function(){},t}();var n={up:["KeyW","Numpad8","ArrowUp"],down:["KeyS","Numpad2","ArrowDown"],right:["KeyD","Numpad6","ArrowRight"],left:["KeyA","Numpad4","ArrowLeft"],confirm:["Enter","KeyZ"],discard:["Escape","KeyX"]};window.addEventListener("load",(function(){var t=new i(.95*window.innerWidth,.95*window.innerHeight);for(var h in n)n&&Object.prototype.hasOwnProperty.call(n,h)&&t.setKeyBind(h,n[h]);window.addEventListener("resize",(function(){t.resize(.95*window.innerWidth,.95*window.innerHeight)}));var o=new e("./img/schoolinside.png",0,0,40,40,1);o.eventHandler=function(){t.keyMap.up.push&&(o.y-=4),t.keyMap.down.push&&(o.y+=4),t.keyMap.right.push&&(o.x+=4),t.keyMap.left.push&&(o.x-=4)},t.add(o),t.start()}))})();
//# sourceMappingURL=bundle.js.map